<ion-content class="page-side-menu">

    <div class="header">
        <div class="titles user-name">{{ userName }}</div>
        <div class="titles">{{ house.houseName }}</div>
    </div>

    <div class="side-menu-content">

        <!-- Roommates -->
        <div class="menu-item" [ngClass]="{'active': activeMenu === 'Roommates'}" (click)="selectMenu('Roommates')">
            Roommates
        </div>
        <div class="collapsable" [ngClass]="{'expanded': activeMenu === 'Roommates'}">
            <ul class="roommate-list">
                <li *ngFor="let roommate of roommates" class="roommate-item">
                    {{ roommate.name }}
                </li>
                <li *ngIf="!roommates.length" class="roommate-item no-items">
                    <p>There are no other users associated with this house yet.</p>
                    <p>Invite a roommate to join with your house's name and share code.</p>
                </li>
            </ul>
            <div class="share-code">
                <strong>+ Share Code: </strong>{{ house.houseCode}}
            </div>
        </div>

        <!-- Settings -->
        <div class="menu-item" [ngClass]="{'active': activeMenu === 'Settings'}" (click)="selectMenu('Settings')">
            Settings
        </div>
        <div class="collapsable" [ngClass]="{'expanded': activeMenu === 'Settings'}">
            <div class="settings-container">
                <div class="settings-block">
                    <strong>Remove Roommate</strong>
                    <div class="information">Removing a roommate will also remove chores associated with that person.</div>

                    <form [formGroup]="removeForm" (ngSubmit)="removeFormSubmit()">
                        <ion-item class="input-remove">
                            <ion-label inline>Name</ion-label>
                            <ion-select formControlName="name">
                                <ion-option *ngFor="let roommate of roommates" [value]="roommate.name">{{ roommate.name }}</ion-option>
                            </ion-select>
                        </ion-item>

                        <button
                        color="danger"
                        small
                        type="submit"
                        ion-button
                        [disabled]="!removeForm.valid">Confirm</button>
                    </form>

                </div>
            </div>
        </div>

        <!-- Sign Out -->
        <div class="menu-item" [ngClass]="{'active': activeMenu === 'Sign Out'}" (click)="signOut()">
            Sign Out
        </div>

    </div>

</ion-content>